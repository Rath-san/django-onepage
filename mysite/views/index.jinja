<!DOCTYPE html>
<html lang="en">
{% include './components/head.jinja' %}

<body>
    {% include './components/nav.jinja' %}
    {# {% include './components/macro.jinja' %} #}
    {# {% include './components/bundle-popup.jinja' %} #}

    {% macro picture(
		media_url, filename, media_files={}, file_sizes=[360, 480, 640, 960], formats=['webp','jpg'], media_sizes='', media='', alt='', img_class='', img_style='', picture_class='', width='', height='', loading='', data_src=False
	) %}
		<picture class="{{ picture_class }}">
			{% for media in media_files %}
				{% set m = media_files[media] %}
				{% for format in formats %}
					<source {% if data_src %} data-srcset=" {% for size in m['file_sizes'] %} {{ media_url }}/{{ m['filename'] }}-{{ size }}.{{ format }} {{size}}w, {% endfor %}" {% else %} srcset=" {% for size in m['file_sizes'] %} {{ media_url }}/{{ m['filename'] }}-{{ size }}.{{ format }} {{size}}w, {% endfor %}" {% endif %} type="image/{{ format | replace('jpg', 'jpeg') }}" sizes="{{ m['media_sizes'] | default(media_sizes) }}" media="{{ media }}" >
				{% endfor %}
			{% endfor %}
			{% for format in formats %}
				<source {% if data_src %} data-srcset=" {% for size in file_sizes %} {{ media_url }}/{{ filename }}-{{ size }}.{{ format }} {{size}}w, {% endfor %}" {% else %} srcset=" {% for size in file_sizes %} {{ media_url }}/{{ filename }}-{{ size }}.{{ format }} {{size}}w, {% endfor %}" {% endif %} type="image/{{ format | replace('jpg', 'jpeg') }}" sizes="{{ media_sizes }}" media="{{ media }}">
			{% endfor %}
			<img {% if data_src %} data-src="{{ media_url }}/{{ filename }}-{{ file_sizes[0] }}.{{ formats[-1] }}?{{file_version}}" {% else %} src="{{ media_url }}/{{ filename }}-{{ file_sizes[0] }}.{{ formats[-1] }}?{{file_version}}" {% endif %} alt="{{alt}}" class="{{img_class}}" style="{{img_style}}" width="{{width}}" height="{{height}}" loading="{{loading}}" >
		</picture>
	{% endmacro %}

    {% macro buy_btn_free() %}
        <div class="button-buy">
            <div id="btn-buy-container" class="version1">
                <div class="inner-container">
                    <a href="#" class="buy-button" data-add-to-cart='{ "productId": {{  product.id }}, "productTitle": "{{  product.title }}" }'>
                        Get it free for FCP / DVR
                    </a>
                </div>
            </div>
        </div>
    {% endmacro %}

    {% set srcsetSizesMobile = [ 640, 960 ] %}
    {% set srcsetSizesDesktop = [ 1280, 1920, 2560 ] %}
    {% set srcsetSizes = srcsetSizesMobile + srcsetSizesDesktop %}

    {% set template_id = "1449" %}
    {# {% set template_id_s3 = "200" %} #}
    {% set media_prefix = "mVertical" %}
    {% set media_url = "https://s3.motionvfx.com/mvfxpublic/products/templates/%s/media" % template_id %}
    {# {% set media_prefix_s3 = "https://s3.motionvfx.com/mvfxpublic/products/templates/%s/media" % template_id_s3 %} #}
    {# {% set media_prefix_presets = media_prefix + "/presets" %} #}
    {% set version = "v=0" %}


    {% set product_name = 'mReal Estate' %}
    {% set shared_media_template_id = '1408' %}
    {% set shared_media_url = 'https://s3.motionvfx.com/mvfxpublic/products/templates/%s/media' % (shared_media_template_id) %}
    {% set product_id_fcp = 3698 %}
    {% set product_id_dvr = 3727 %}
    {% set twin_product_id = product_id_fcp %}
    {# {% set product_fcp, product_dvr = get_products([product_id_fcp, product_id_dvr]) %} #}
	{% set product_fcp, product_dvr = [product, product] %}
    {% set software_versions = [
        {
            'type': 'fcp',
            'name': ['FCP', 'Final Cut Pro'],
            'product': product_fcp,
            'product_url': 'https://www.motionvfx.com/store,%s,p%s.html' % (product_fcp.slug, product_fcp.id),
            'images': ["box_fcp", "fcp_icon"],
            'box_media_url': 'https://s3.motionvfx.com/mvfxpublic/products/templates/%s/media' % ('1415')
        },
    ] %}
    {#{% for sv in software_versions %}
        {{ sv.product.set_btn_title("%s for %s" % (product_name, sv.name[0]))|default("", True) }}
    {% endfor %}#}
    {% set products = software_versions|map(attribute="product") %}
    {% set live = True %}

    {# _DATA #}
    {% set data = {
        'header': {
            'subtitle': '56 Dramatic Freeze Frame FX for FCP'
        },
        'trailer': {
            'subtitle': '<span class="color-cta">And get freeze</span>',
            'title': 'Watch trailer',
            'text': 'See how suspense is made and upheld'
        },
        'tutorial': {
            'subtitle': '<span class="color-cta">Pro 2 Pro</span>',
            'title': 'Watch tutorial',
            'text': 'Save time and use it for creating!'
        },
        'carousel-flat': {
            'subtitle': 'Bring action',
            'title': 'TO A <span class="color-cta">HALT</span>',
            'text': 'Draw attention right where you need it, create expectations and use them as you please',
        },
        'posters': {
            'subtitle': '<span class="color-cta">Bring emotions</span>',
            'title': 'TO THE TOP',
            'text': 'Open up space for imagination with dramatic, powerful freeze frames',
        },
        'carousel-flat-2': {
            'subtitle': 'Perfect shot',
            'title': 'Rat-tat-LUT!',
            'text': 'Give it your best shot... and give your shots the best cinematic coloring to create a one-and-only experience!',
        },
        'static': {
            'subtitle': 'Intuitive',
            'title': 'workflow',
        },
        'footer': {
            'subtitle': '<span class="color-cta">Stop time.</span>',
            'title': 'Move your audience!',
            'text': 'Engage your viewers in blockbuster ways with striking, versatile freeze frame effects. They live for that thrill!'
        }
    } %}

    {% set trailer_id = 'kNIITuzAf10' %}
    {% set tutorial_id = '3ntc5e4nYDc' %}

    <main class="mreal-estate">
    {# _HEADER #}
    <section class="header">
            <div class="image__background">
                {{picture(
                    media_url=media_url,
                    filename='top' ,
                    file_sizes=srcsetSizes,
                    formats=['jpg'],
                    width=2560,
                    height=960,
                    alt="Header image",
                    media_files={
                        '(max-width: 960px)': {
                            'filename': 'top_mobile',
                            'formats':['jpg'],
                            'file_sizes': [640, 960],
                        }
                    },
                )}}
            </div>
            <div class="container-fluid">
                <div class="section__content">
                    <div class="header__logo">
                        {# {{picture(
                            media_url=media_url,
                            filename= 'logo_2' ,
                            file_sizes=[1200],
                            formats=['png'],
                            width=1200,
                            height=675,
                            alt="Logo",
                        )}} #}
                        {# mReal Estate #}
                        <h2 class="logo-top">
                            <span class="logo-first">m<span class="logo-color">Freeze</span>Frame</span>
                            <span class="logo-big">BLOCKBUSTER</span>
                        </h2>
                    </div>
                    <h1 class="header__text section__text">
                        {# {{ data.header.subtitle }} #}
                        {{product.head_info.replace('Final Cut Pro', 'Final Cut Pro')|safe}}
                    </h1>
                </div>
        </div>
            </div>
        {# _SOFTWARE ICONS #}
		<div id="software-icons" class="software-icons text-center" style="width: 100%; left: 0;">
			{% for si in software_versions %}
			<a
                role="button"
                name="product link {{ si.name[1] }}"
                aria-label="Product link {{ si.name[1] }}"
				target="_blank"
				class="d-inline-block mx-1"
				style="--i: {{ loop.index }}; --d: {{ loop.index }}">
				{{ picture(shared_media_url, si.images[1], formats=["webp","png"], file_sizes=[180], width=60, height=60, img_class='software-icon', data_src=False) }}
			</a>
			{% endfor %}
        </div>

        <div class="actors">
            {% for actor in [
                {
                    'name': 'Mark',
                    'surname': 'Bromberg',
                },
                {
                    'name': 'Jane',
                    'surname': 'Williams',
                },
                {
                    'name': 'Stephen',
                    'surname': 'Shwartz',
                },
                {
                    'name': 'Henry',
                    'surname': 'Gonzales',
                },
                {
                    'name': 'Dwight',
                    'surname': 'Fowler',
                }
            ] %}
            <div class="actor">
                <div class="actor__name">{{ actor.name }}</div>
                <div class="actor__surname">{{ actor.surname }}</div>
            </div>

            {% endfor %}
        </div>
        </section>

        <script>
            const onHeaderImagesLoaded = (images, type= 'primary') => {
                const loadedImages = images.map(img => false);
                images.forEach((img, idx) => {
                    loadedImages[idx] = img.complete;

                    if (loadedImages.every(val => val)) {
                        header.classList.add(`loaded-${type}`)
                    }
                    img.onload = () => {
                        loadedImages[idx] = true
                        if (loadedImages.every(val => val)) {
                            header.classList.add(`loaded-${type}`)
                        }
                    }
                })
            }

            const header = document.querySelector('section.header')
            const items1 = [
                header.querySelector('.image__background img'),
            ]

            const items2 = Array.from(header.querySelectorAll('.image__background img'));

            onHeaderImagesLoaded(items1);
            onHeaderImagesLoaded(items2, 'secondary');
        </script>

        <a class="nav" name="trailer"></a>
        {# _TRAILER #}
        <section class="video trailer">
            <div class="image__background">
                {{picture(
                    media_url=media_url,
                    filename= 'trailer_bg' ,
                    file_sizes=srcsetSizes,
                    formats=['jpg'],
                    width=2560,
                    height=960,
                    alt="Header image",
                )}}
            </div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="section__content">
                            <div class="section__head">
                                {# <p class="section__subtitle" style="--s-index:0;">
                                    {{data.trailer.subtitle|safe}}
                                </p> #}
                                <div class="section__title">
                                    {{ data.trailer.title|safe }}
                                </div>
                                <p class="section__text mx-auto" style="max-width: 400px">
                                    {{ data.trailer.text|safe }}
                                </p>
                            </div>
                        </div>
                        <div class="yt embed-responsive embed-responsive-16by9">
                            <div class="video-iframe" data-id="{{trailer_id}}" style="background-color: #000"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <a class="nav" name="tutorial"></a>
		{# _TUTORIAL #}
        <section class="video tutorial">
            <div class="image__background">
                {{picture(
                    media_url=media_url,
                    filename= 'tutorial_bg' ,
                    file_sizes=srcsetSizes,
                    formats=['jpg'],
                    width=2560,
                    height=960,
                    alt="Header image",
                )}}
            </div>
            <div class="container text-center">
                <div class="row">
                    <div class="col-12">
                        <div class="section__content">
                            <div class="section__head">
                                <p class="section__subtitle " style="--s-index:0;">{{ data.tutorial.subtitle|safe }}</p>
                                <div class="section__title ">{{ data.tutorial.title|safe }}</div>
                                <p class="section__text mx-auto" style="max-width: 350px">{{ data.tutorial.text|safe }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="yt embed-responsive embed-responsive-16by9">
                            <div class="video-iframe" data-id="{{tutorial_id}}" style="background-color: #000"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {# _ALL PACKS #}
        <section class="all-packs">
            <div class="image__background">
                {{picture(
                    media_url=media_url,
                    filename= 'boxes_bg' ,
                    file_sizes=srcsetSizes,
                    formats=['jpg'],
                    width=2560,
                    height=960,
                    alt="Header image",
                )}}
            </div>
            <div class="container">
                {% set pack_boxes = [
                    {
                        'src': 'box_comic',
                        'alt': '',
                        'link': 'https://www.motionvfx.com/store,mfreezeframe-comic,p2427.html'
                    },
                    {
                        'src': 'box_action',
                        'alt': '',
                        'link': 'https://www.motionvfx.com/store,mfreezeframe-action,p2832.html'
                    },
                    {
                        'src': 'box_movie',
                        'alt': '',
                        'link': 'https://www.motionvfx.com/store,mfreezeframe-movie,p3461.html'
                    },
                    {
                        'src': 'box_blockbuster',
                        'alt': '',
                    },
                ] %}

                <div class="row">
                    <div class="col-12">
                        <div class="section__content">
                            <div class="section__title">
                                <span class="color-cta">Now</span> all 4 packs {{ picture(media_url, 'm1_m2_icon', file_sizes=[256,125], formats=['webp','png'], img_class="mone-icon", width=256, height=256, alt='M1 and M2 chip') }} ready!
                            </div>
                            {% set promotion = True %}
                            {% if promotion %}
                            <div class="section__text" style="max-width: 20em">
                                <b class="color-cta">25% OFF</b> each and every mFreezeFrame pack — don't freeze, use it!
                            </div>
                            {% endif %}

                            <div class="packs-boxes mt-5">
                                {% for box in pack_boxes %}
                                <a {% if box.link %}
                                        href="{{ box.link }}"
                                    {% else %}
                                        role="button"
                                    {% endif %}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    class="pack-box"
                                    style="--x-i: {{ loop.index - 1 }}"
                                >
                                    {{ picture(media_url, box.src, file_sizes=[256,512], formats=['webp','png'], media_sizes="(max-width: 1200px) 50vw, 400px", width=300, height=300, picture_class='d-block', alt=box.alt) }}
                                </a>
                                {% endfor %}
                            </div>

                            <div class="section__text section__text--closure" style="max-width: 40em">
                                Promo videos? Achieve a blockbuster look and create content that gets remembered. Narratives? Guide them like the storyteller you are! Tutorials? Emphasize and highlight essential information with a freeze frame memory boost!
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        {# _CAROUSEL FLAT #}
        <section class="carousel-flat-section carousel-flat-section--1">
            {% set slides = [
                {
                    'src': '1a',
                    'src2': '1',
                    'alt': '',
                },
                {
                    'src': '2',
                    'src2': '2',
                    'alt': '',
                },
                {
                    'src': '3',
                    'src2': '3',
                    'alt': '',
                },
            ] %}

            <div class="section__content" style="max-width: 35em;">
                <div class="section__subtitle">
                    {{ data['carousel-flat'].subtitle|safe }}
                </div>
                <div class="section__title">
                    {{ data['carousel-flat'].title|safe }}
                </div>
                <div class="section__text" style="max-width: 21em;">
                    {{ data['carousel-flat'].text|safe }}
                </div>

                {% macro arrow() %}
                    <svg version="1.1"
                        id="Layer_1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px"
                        y="0px"
                        viewBox="0 0 96 96"
                        width="96"
                        width="96"
                        style="enable-background:new 0 0 96 96;"
                        xml:space="preserve"
                    >
                        <style type="text/css">
                            .st0{
                                fill:none;
                                stroke:#fff;
                                stroke-width:8;
                                stroke-miterlimit:10;
                            }
                        </style>
                            <polyline
                                class="st0"
                                points="60.1,20 32,48.1 59.7,75.8 "
                            />
                        </svg>
                {% endmacro %}

                <div class="carousel-flat__pagination" style="max-width: 28em;">
                    <a class="carousel-control-prev" href="#carouselFlat" role="button" data-slide="prev">
                        {{ arrow() }}
                        <span class="sr-only">Previous</span>
                    </a>
                    <div id="carouselFlatCounter" class="carousel-control__counter">
                        01/0{{ slides|length }}
                    </div>
                    <a class="carousel-control-next" href="#carouselFlat" role="button" data-slide="next">
                        {{ arrow() }}
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

            <div id="carouselFlat" class="carousel slide slide-new slide-poly">
                <div class="carousel-inner">
                    {% for img in slides %}
                        <div class="carousel-item {% if loop.index == 1 %} active {% endif %}">
                            {# <img class="d-block w-100 lazy-show" src="https://www.placecage.com/256{{ loop.index }}/860" alt=""> #}
                            {{picture(
                                media_url,
                                filename= img.src,
                                file_sizes=srcsetSizes,
                                formats=['jpg'],
                                width=2560,
                                height=960,
                                img_class='d-block w-100',
                                alt=img.alt
                            )}}

                            {{picture(
                                media_url,
                                filename= img.src2 + '_title',
                                file_sizes=[1000, 640, 320],
                                formats=["webp", "png"],
                                width=1000,
                                height=200,
                                img_class='title title--' + img.src,
                                alt=img.alt
                            )}}
                        </div>
                    {% endfor %}
                </div>
                <ol id="carouselFlatIndicators" class="carousel-indicators">
                    {% for indicator in slides %}
                        <li class="{% if loop.index == 1 %} active {% endif %}"></li>
                    {% endfor %}
                </ol>
            </div>
        </section>

        {# _POSTERS #}
        <section class="posters-section">
            {# <div class="posters__comp"> #}
            {% for poster in [
                {
                    'src': ['poster_biga', 'poster_11', 'poster_6' ],
                    'alt': '',
                },
                {
                    'src': ['poster_8', 'poster_5', 'poster_3'],
                    'alt': '',
                },
                {
                    'src': ['poster_9', 'poster_2', 'poster_4'],
                    'alt': '',
                },
            ] %}
                <div class="poster poster--{{ loop.index }}">

                    <div id="postersFade{{loop.index}}" class="carousel slide carousel-fade">
                        <div class="carousel-inner">
                            {% for src in poster.src %}
                                <div class="carousel-item {{'active' if loop.index == 1}}">
                                    {{picture(
                                        media_url=media_url,
                                        filename= src ,
                                        file_sizes=[900, 640, 320] if not poster.sizes else poster.sizes,
                                        formats=['jpg'],
                                        width=600,
                                        height=1200,
                                        alt="Poster",
                                    )}}
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endfor %}
            {# </div> #}
            <div class="container">
                <div class="row">
                    <div class="col-12 col-xl-6 offset-xl-6">
                        <div class="poster poster--main">
                            <div id="postersFade4m" class="carousel slide carousel-fade mobile">
                                <div class="carousel-inner">
                                    {% for src in ['poster_11', 'poster_9', 'poster_6', 'poster_5', 'poster_8'] %}
                                        <div class="carousel-item {{'active' if loop.index == 1}}">
                                            {{picture(
                                                media_url=media_url,
                                                filename=src,
                                                file_sizes=[900, 640, 320],
                                                formats=['jpg'],
                                                width=600,
                                                height=1200,
                                                img_class="",
                                                alt="Poster",
                                            )}}
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div id="postersFade4" class="carousel slide carousel-fade desktop">
                                <div class="carousel-inner">
                                    {% for src in ['poster_10', 'poster_7'] %}
                                        <div class="carousel-item {{'active' if loop.index == 1}}">
                                            {{picture(
                                                media_url=media_url,
                                                filename=src,
                                                file_sizes=[900, 640, 320],
                                                formats=['jpg'],
                                                width=600,
                                                height=1200,
                                                img_class="",
                                                alt="Poster",
                                            )}}
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <div class="section__content">
                            <div class="section__subtitle">
                                {{ data.posters.subtitle|safe }}
                            </div>
                            <div class="section__title" style="max-width: 7em">
                                {{ data.posters.title|safe }}
                            </div>
                            <div class="section__text" style="max-width: 19em">
                                {{ data.posters.text|safe }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {# _LUTS SLIDER #}
        <section class="carousel-flat-section carousel-flat-section--2">
            {% set slides = [
                {
                    'src': 'lut_1c',
                    'alt': '',
                },
                {
                    'src': 'lut_2c',
                    'alt': '',
                },
                {
                    'src': 'lut_3c',
                    'alt': '',
                },
                {
                    'src': 'lut_4c',
                    'alt': '',
                },
                {
                    'src': 'lut_5c',
                    'alt': '',
                },
                {
                    'src': 'lut_6c',
                    'alt': '',
                },
                {
                    'src': 'lut_7c',
                    'alt': '',
                },
                {
                    'src': 'lut_8c',
                    'alt': '',
                }
            ] %}

            <div class="section__content">
                {# <div class="section__subtitle">
                    {{ data['carousel-flat-2'].subtitle|safe }}
                </div> #}
                {# <div class="section__head__wrapper"> #}
                    <div class="section__title">
                        <div class="section__deco color-cta">
                            {{ slides|length }}
                        </div>
                        <div style="max-width: 5.5em">
                            powerful LUTs inside
                        </div>
                    </div>
                {# </div> #}
                <div class="section__text" style="max-width: 28em;">
                    {{ data['carousel-flat-2'].text|safe }}
                </div>
                
                <div class="carousel-flat__pagination">
                    <a class="carousel-control-prev" href="#carouselFlat2" role="button" data-slide="prev">
                        {{ arrow() }}
                        <span class="sr-only">Previous</span>
                    </a>
                    <div id="carouselFlat2Counter" class="carousel-control__counter">
                        01/0{{ slides|length }}
                    </div>
                    <a class="carousel-control-next" href="#carouselFlat2" role="button" data-slide="next">
                        {{ arrow() }}
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

            <div id="carouselFlat2" class="carousel slide slide-new slide-poly">
                <div class="carousel-inner">
                    {% for img in slides %}
                        <div class="carousel-item {% if loop.index == 1 %} active {% endif %}">
                            {{picture(
                                media_url,
                                filename= img.src,
                                file_sizes=[2560, 1920, 1280, 960, 640],
                                formats=['jpg'],
                                width=2560,
                                height=960,
                                img_class='d-block w-100 ',
                                alt=img.alt
                            )}}
                        </div>
                    {% endfor %}
                </div>
                <ol id="carouselFlat2Indicators" class="carousel-indicators">
                    {% for indicator in slides %}
                        <li class="{% if loop.index == 1 %} active {% endif %}"></li>
                    {% endfor %}
                </ol>
            </div>
        </section>
        
        {# _STATIC #}
        <section class="static__section">
            <div class="image__background__comp">
                <div class="image__background--static">
                    {{picture(
                        media_url=media_url,
                        filename= 'mask_bg' ,
                        file_sizes=srcsetSizes,
                        formats=['jpg'],
                        width=2560,
                        height=960,
                        loading="lazy",
                        alt="",
                    )}}
                </div>

                <div class="comp__item comp__item--0">
                    {{picture(
                        media_url=media_url,
                        filename= 'guy_mask' ,
                        file_sizes=[900, 640, 320],
                        formats=['webp', 'png'],
                        width=900,
                        height=880,
                        loading="lazy",
                        alt="",
                    )}}
                </div>

                <div class="comp__item comp__item--1">
                    <div class="comp__data">
                        <div class="comp__title section__title">
                            Easy-to-use masks
                        </div>
                        <div class="comp__text section__text mx-auto" style="max-width: 18em">
                            On-screen controls designed for perfect usability and smooth workflow
                        </div>
                    </div>
                    {{picture(
                        media_url=media_url,
                        filename='mask',
                        file_sizes=[1280, 960, 640],
                        formats=['webp', 'png'],
                        width=2560,
                        height=960,
                        alt="Header image",
                    )}}
                </div>
                <div class="comp__item comp__item--2">
                    {{picture(
                        media_url=media_url,
                        filename='ui',
                        file_sizes=[1500, 1280, 960, 640],
                        formats=['webp', 'png'],
                        width=2560,
                        height=960,
                        alt="Header image",
                    )}}
                </div>
            </div>
            
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="section__content">
                            <div class="section__subtitle">{{ data.static.subtitle }}</div>
                            <div class="section__title">{{ data.static.title }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {# PREVS #}
        <section class="prevs center">
            {% set productPageTemplateId = template_id %} 
            {% set collapseAfter = 8 %}
            {% set namePrefix = '' %}
            {% set categories = [
                { 'label': 'Presets', 'key': None, 'count': 30, 'class': None },
                { 'label': 'Overlay Effects', 'key': 'overlay_effect', 'count': 12, 'class': None },
                { 'label': 'Typography', 'key': 'typography', 'count': 11, 'class': None },
                { 'label': 'Backgrounds', 'key': 'background', 'count': 5, 'class': None },
            ] %}

            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                        <div class="lines__comp">
                            <div class="prevs__deco">
                                {{picture(
                                    media_url=media_url,
                                    filename='guys',
                                    file_sizes=[320, 640],
                                    formats=['webp', 'png'],
                                    width=940,
                                    height=1177,
                                    alt="Header image",
                                )}}
                            </div>
                            <div class="section__head">
                                <div class="section__display" style="max-width: 13em;">
                                    {{ categories|map(attribute='count')|sum }}
                                </div>
                                <h2 class="prevs__title section__title" style="max-width: 12em;">
                                    Climacting FCP presets to move audiences
                                </h2>
                                <p class="prevs__subtitle section__subtitle tap">
                                    hover or tap to preview animations
                                </p>
                            </div>
                            <div class="lines__wrapper">
                                <div class="lines">
                                    <div class="lines-v"></div>
                                    <div class="lines-h"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="product-prev-grid" class="product-prev-grid container">
    			{% for category in categories %}
					{% set key = category.key %}
					{% if categories|length > 1 %}
                        <h3 class="prevs__title {{ category.key }} {{ 'left' if loop.index % 2 != 0 else 'right' }}">{{ category.label }}
                        </h3>
                    {% endif %}
					<div class="row {{ category.rowClass | default('') }} {% if category.count == 5 %}row-5{% endif %}">
						{% for i in range(category.count) %}
							{% set num = '%02d' % loop.index %}
                            {# https://s3.motionvfx.com/mvfxpublic/products/templates/1297/media/Background_{{num}}.mp4 #}
                            {# https://s3.motionvfx.com/mvfxpublic/products/templates/1297/media/mIntro_2_04.mp4 #}
							{% set filename = 'https://s3.motionvfx.com/mvfxpublic/products/templates/' + productPageTemplateId + '/media/' + namePrefix + (key +  '_' if key else '') + num %}
							<div class="product-prev-col col-6 col-lg-3 {% if loop.index > collapseAfter %}collapse prev-collapse-{{ key }}{% endif %}" id="prev-collapse-{{ key }}-{{ loop.index }}"
								>
								<div class="product-prev-cell" data-mp4-src="{{ filename }}.mp4?{{refresh}}">
									<img loading="lazy" src="{{ filename }}.jpg?{{refresh}}" alt="" width="400" height="225" />
									<div class="loading-spinner"></div>
								</div>
							</div>
						{% endfor %}
						{% if category.count > collapseAfter %}
							<div class="col-btn-collapse">
								<button class="btn-collapse" type="button" data-target=".prev-collapse-{{ key }}" aria-expanded="false" aria-controls="{% for j in range(collapseAfter, category.count) %} prev-collapse-{{ key }}-{{ j }} {% endfor %}">
									<span><span class="label-collapsed">Show more</span><span class="label-expanded">Collapse</span> ({{ category.count - collapseAfter }})</span>
									<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
											viewBox="0 0 36.6 61.5" style="enable-background:new 0 0 36.6 61.5;" xml:space="preserve" class="btn-collapse-arrow" height="20">
										<style type="text/css">
											.st0{fill:none;stroke:currentColor;stroke-width:8;stroke-miterlimit:10;}
										</style>
										<polyline class="st0" points="2.8,58.6 30.9,30.5 3.2,2.8 "/>
									</svg>
								</button>
							</div>
						{% endif %}
					</div>
				{% endfor %}
			</div>
        </section>

        {# TECHSPEC #}
        <a class="nav" href="#" name="specs" rel="noopener noreferrer"></a>
        <div class="ts-mi">
            <div class="image__background">
                {{picture(
                    media_url=media_url,
                    filename='tech_spec_bg',
                    file_sizes=srcsetSizes,
                    formats=['jpg'],
                    width=2560,
                    height=960,
                    alt="Header image",
                )}}
            </div>
        <section class="tech-spec">
            {# <div class="tech-spec__deco">
                {{picture(
                    media_url=media_url,
                    filename='guys',
                    file_sizes=[320, 640],
                    formats=['webp', 'png'],
                    width=940,
                    height=1177,
                    alt="Header image",
                )}}
            </div> #}
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="tech-spec-info">
                            <div class="section__text__content">
                                <div class="section__head">
                                    <div class="section__subtitle">Technical</div>
                                    <h2 class="section__title tech-spec__title section__title">specifications</h2>
                                </div>
                                <div class="ttable tech-spec__table">
                                    <div class="tcell tlabel">Supported software</div>
                                    <div class="tcell tdata">
                                        {% autoescape off %}
                                            {{ product.productdetails.minimal_requirements.replace('FCP 10', 'FCP 10').replace('Motion 5', 'Motion 5').replace(', ', ',<br>') }}
                                        {% endautoescape %}
                                        <br>
                                        <br>
                                        Intel GPU is NOT supported
                                        <br>
                                    </div>
                                    <div class="tcell tlabel">Includes</div>

                                    <div class="tcell tdata">
                                        58 FCP titles
                                    </div>
                                    <div class="tcell tlabel">Size</div>
                                    <div class="tcell tdata">
                                        {{ "%.1f MB"|format(product.productdetails.source_size / 1000) }}
                                    </div>
                                    {% for kind in ['trailer', 'tutorial'] %}
                                        {% with musics=product.productdetails.music.select_related('music_portal').all().filter(used_in_trailer=kind=='trailer') %}
                                            {% if musics|length %}
                                                <div class="tcell tlabel">Music used in {{ kind }}</div>
                                                <div class="tcell tdata">
                                                    {% include 'product/music_info.jinja2' %}
                                                </div>
                                            {% endif %}
                                        {% endwith %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </section>

        <section class="minstaller__section">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="minstaller">
                            <h3 class="minstaller__title">mInstaller</h3>
                            <p class="minstaller__description">
                                After purchasing, the product is <b>instantly available </b>for download via <a href="https://www.motionvfx.com/page/minstaller.html" target="_blank" rel="noopener noreferrer">mInstaller</a>.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        </div>

		{# FOOTER #}
        {# media_files={
                        '(max-width: 960px)': {
                            'filename': media_prefix + '_footer_mobile',
                            'formats':['jpg'],
                            'file_sizes': [640, 960],
                        }
                    }, #}
        <footer class="footer">
            <div class="image__background " style="--s-index:0">
                {{picture(
                    media_url=media_url,
                    filename='footer',
                    file_sizes=srcsetSizes,
                    formats=['jpg'],
                    width=2560,
                    height=1280,
                    alt="Footer"
                )}}
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="section__text__content">
                            <div class="section__head section__content">
                                {# <div class="footer__subtitle section__subtitle" style="max-width: ;">
                                    <img src="{{ media_url }}/baliff-256.png?{{ version }}" alt="">
                                </div> #}
                                <div class="footer__title section__subtitle">
                                    {{data.footer.subtitle|safe}}
                                </div>
                                <div class="footer__title section__title">
                                    {{data.footer.title|safe}}
                                </div>
                                <p class="footer__text section__text mx-auto" style="max-width: 500px">
                                    {{ data.footer.text|safe }}
                                </p>
                            </div>
                            <div class="button-buy">
                                {# {{buy_btn_free()}} #}
                                {% with discount_text="INTRO", version=2 %}
                                    {% include "product/buy_button.jinja2" %}
                                {% endwith %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </main>

    {# {% include './components/popup-left.jinja' %} #}
    {% include './components/submenu.jinja' %}
    
    <script src="https://s3.motionvfx.com/mvfxpublic/products/templates/1329/js/gsap.min.js"></script>
    <script src="https://s3.motionvfx.com/mvfxpublic/products/templates/1329/js/morpher.min.js"></script>
    
    <script src="dist/scripts.js"></script>
    <script src="scripts/vendor/menu.js" defer></script>
    <script src="scripts/vendor/scroll_to_anchor.js" defer></script>
</body>

</html>
